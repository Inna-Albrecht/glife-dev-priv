# pav_disco
!2021/07/12

if $ARGS[0] = '':
	if hour > 19: pav_disco_in = daystart
	$loc_arg = ''
	$loc = 'pav_disco'
	$location_type = 'public_indoors'
	$menu_loc = 'pav_disco'
	$menu_arg = ''
	menu_off = 0
	boynumBlock = 0
	gs 'stat'
	gs 'themes', 'indoors'
	pl ''
	if music_on = 1:
		$track_loop = 'sound/komb.mp3'
		volume = 80
		music_loop = 1
		pl '<a href="exec: music_on = 0 & gt $loc">Turn off the music</a>'
	else
		music_loop = 0
		close all
		pl '<a href="exec: music_on = 1 & gt $loc">Play music</a>'
	end
	*nl

!! check against clothing and makeup impacting social groups only once per day
	if social_check['disco'] ! daystart:
		social_check['disco'] = daystart
		if PCloskirt = 0: 
			grupvalue[1] -= 1
			if PCloquality > 4:grupvalue[1] += 1
		end
		if PCloquality = 3 or PCloquality = 4: grupvalue[1] -= 1
		if PCloquality < 3: grupvalue[1] -= 5
		if PCloInhibit >= 20 and PCloInhibit < 35: grupvalue[2] += 1 & grupvalue[4] += 1
		if PCloInhibit >= 35: grupvalue[1] -= 3 & grupvalue[2] -= 1
		if PShoQuality < 3:
			grupvalue[1] -= 1
		else
			grupvalue[1] += 1
		end
		if PShoHeels < 2: grupvalue[1] -= 2
		if pcs_makeup = 0:
			grupvalue[1] -= 5
			grupvalue[2] -= 5
			grupvalue[4] -= 1
		elseif pcs_makeup = 1: 
			grupvalue[1] -= 5
			grupvalue[2] -= 3
			grupvalue[4] -= 1
		elseif pcs_makeup = 2: 
			grupvalue[4] -= 1
		elseif pcs_makeup = 3: 
			grupvalue[1] += 1
		elseif pcs_makeup = 4:
			grupvalue[2] -= 1
			grupvalue[4] += 1
		elseif pcs_makeup = 5:
			grupvalue[1] += 3
		elseif pcs_makeup = 6:
			grupvalue[1] -= 3
			grupvalue[2] -= 5
		end
	end

	if NikoVolkovQW = 5 and NikoEv = 7 and NikoDate_Day ! daystart: gt 'NikoDates', 'Disco'

	if hour >= 20 and hour <= 23:
		'<center><b><font color="maroon">Disco</font></b></center>'
		'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club.jpg"></center>'
		if LariskaQW['story'] = 14: 'You think you see <a href="exec: gt ''lariska_storyline'', ''Boyfriend_5''">someone</a> you know on the dance floor.'

		act 'Go outside': gt 'pav_commcenter'

		act 'Go to the toilets': gt 'gdktoilet', 'start'

		if StoryLine = 1 and SchoolAtestat = 0: 'You see a few of your <a href="exec: gt ''pav_disco_coolkids'', ''classmates''">classmates</a>. Some of them dancing, while others stick to their own groups and talk.'
		if soniaslut < 5: soniaslut += 1

		if dimaRevenge = 7 and dimaRevChoice = 4 and dimadisco = 0: gt 'dimaRevenge', 5, 'disco'

		if rand(1,3) = 2 and soniaPS < 1 and soniadisco_day ! daystart and SchoolAtestat = 0 and month > 9:
			if npc_grupTipe['A25'] ! 5 and StoryLine = 1 and BeInSchool > 0 and soniaslut >= 5 and hour < 23:
				'You notice Sonia talking to Vitek about something.'
				act 'Watch Sonia': soniadisco_day = daystart & gt 'soniadisco', 'start'
			end
		end
		act 'Dance (0:15)':
			*clr & cla
			menu_off = 1
			'<center><b><font color="maroon">Disco</font></b></center>'
			if pcs_inhib < 40:inhib_exp += rand(1,2)
			if (cumloc[6] = 1 or cumloc[7] = 1) or cumloc[11] = 1:
				pav_discocum = daystart
				gs 'fame', 'pav', 'sex', 5
				pcs_mood -= 40
				gs 'stat'
				'<center><b><font color="maroon">Disco</font></b></center>'
				'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/sex/cumface1.jpg"></center>'
				'As you head out on the dance floor, a guy walks up to you, notices the cum still splattered on you and points at you. "Check out this cocksucker! Hey guys, this chick has cum smeared all over her face!" The ones standing near him come closer. "Did you forget to swallow, slut?" Your cheeks blush with shame and you quickly head for the exit.'
				act 'Leave': gt 'pav_commcenter'
			else
				minut += 15
				pcs_stam -= 5
				gs 'sweat', 'add', 3
				fat -= 1
				danc_exp += 1
				pcs_mood += 10
				frost = 0
				gs 'stat'
				if alko = 0:
					'<center><b><font color="maroon">Disco</font></b></center>'
					'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/dance.jpg"></center>'
					if $pantyworntype = 'none' and PCloSkirt > 2:
						inhib_exp += 1
						'You look around and smile, as no one knows you''re not wearing any panties. You feel a thrilling sensation rush through your body as you think about it.'
					end
					if pcs_danc <= 30:
						grupvalue[1] -= 1
						grupvalue[2] -= 2
						'You''re having a lot of fun out on the dance floor. Your horribly awkward attempt at dancing makes it look like you''re having a seizure, but you don''t care. You''re not paying attention to anyone else or even the music.'
					elseif pcs_danc <= 60:
						'You''re having a lot of fun out on the dance floor. You barely pay attention to anyone else as you move around on the dance floor.'
					elseif pcs_dancero <= 40:
						grupvalue[1] += 1
						grupvalue[2] += 1
						'You''re having a lot of fun out on the dance floor. You move your body around in an erotic manner to the beat of the music.'
					else
						grupvalue[1] += 2
						grupvalue[2] += 2
						'You''re having a lot of fun out on the dance floor. You expertly move your body around in a seductive manner to the beat of the music.'
					end
				elseif alko = 1:
					'<center><b><font color="maroon">Disco</font></b></center>'
					'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/tipsy_dance.jpg"></center>'
					if $pantyworntype = 'none' and PCloSkirt > 2:
						inhib_exp += 1
						'You look around and smile, as no one knows you''re not wearing any panties. You feel a thrilling sensation rush through your body as you think about it.'
					end
					if pcs_danc <= 30:
						grupvalue[1] -= 1
						grupvalue[2] -= 2
						'You''re having a lot of fun out on the dance floor, even though you''re a terrible dancer and being buzzed doesn''t help. Your awkward movements look more like a seizure than dancing, but you don''t care. You''re not paying attention to anyone else or even the music.'
					elseif pcs_danc <= 60:
						'You''re having a lot of fun out on the dance floor. You barely pay attention to anyone else as you move around on the dance floor, feeling a little buzzed.'
					elseif pcs_dancero <= 40:
						grupvalue[1] += 1
						grupvalue[2] += 1
						'You''re having a lot of fun out on the dance floor and are dancing pretty well despite how buzzed you are. You move your body around in an erotic manner to the beat of the music.'
					else
						grupvalue[1] += 2
						grupvalue[2] += 2
						'You''re having a lot of fun out on the dance floor. Most people would have a hard time telling you were buzzed as you expertly move your body around in a seductive manner to the beat of the music.'
					end
				elseif alko < 4:
					'<center><b><font color="maroon">Disco</font></b></center>'
					'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/tipsy_dance.jpg"></center>'
					if $pantyworntype = 'none' and PCloSkirt > 2:
						inhib_exp += 1
						'You look around and smile, as no one knows you''re not wearing any panties. You feel a thrilling sensation rush through your body as you think about it.'
					end
					if pcs_danc <= 30:
						grupvalue[1] -= 1
						grupvalue[2] -= 2
						'You''re having a lot of fun out on the dance floor, even though you''re a terrible dancer and being tipsy doesn''t help. Your awkward movements look more like a seizure than dancing, but you don''t care. You''re not paying attention to anyone else or even the music.'
					elseif pcs_danc <= 60:
						'You''re having a lot of fun out on the dance floor. You barely pay attention to anyone else as you move around on the dance floor, feeling a little tipsy.'
					elseif pcs_dancero <= 40:
						grupvalue[1] += 1
						grupvalue[2] += 1
						'You''re having a lot of fun out on the dance floor and are dancing pretty well despite how tipsy you are. You move your body around in an erotic manner to the beat of the music.'
					else
						grupvalue[1] += 2
						grupvalue[2] += 2
						'You''re having a lot of fun out on the dance floor. Most people would have a hard time telling you were tipsy as you expertly move your body in a seductive manner to the beat of the music.'
					end
				elseif alko < 6:
					'<center><b><font color="maroon">Disco</font></b></center>'
					'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/drunk_dance.jpg"></center>'
					if $pantyworntype = 'none' and PCloSkirt > 2:
						inhib_exp += 1
						'You look around and smile, as no one knows you''re not wearing any panties. You feel a thrilling sensation rush through your body as you think about it.'
					end
					if pcs_danc <= 30:
						grupvalue[1] -= 3
						grupvalue[2] -= 3
						grupvalue[4] += 1
						'You''re having a lot of fun out on the dance floor, even though you''re a terrible dancer and being drunk doesn''t help. Your awkward movements look more like a seizure than dancing, but you don''t care. You''re not paying attention to anyone else or even the music.'
					elseif pcs_danc <= 60:
						grupvalue[1] -= 2
						grupvalue[2] -= 2
						grupvalue[4] += 1
						'You''re having a lot of fun out on the dance floor. You barely pay attention to anyone else as you move around on the dance floor, feeling rather drunk.'
					elseif pcs_dancero <= 40:
						grupvalue[1] -= 1
						grupvalue[2] -= 1
						grupvalue[4] += 1
						'You''re having a lot of fun out on the dance floor and are dancing pretty well despite how drunk you are. You move your body around in an erotic manner to the beat of the music'
					else
						grupvalue[4] += 1
						'You''re having a lot of fun out on the dance floor. Most people would have a hard time telling you were drunk as you expertly move your body in a seductive manner to the beat of the music.'
					end
					if StoryLine = 1 and meynoldQW >= 2 and rand(1,10) = 1: 
						gt 'pav_disco', 'katja_too_drunk'
					elseif npc_rel['A25'] >= 50 and rand(1,10) = 1:
						gt 'pav_disco', 'sonia_too_drunk' 
					elseif npc_rel['A144'] >= 50 and rand(1,10) = 1: 
						gt 'pav_disco', 'anushka_too_drunk'
					end
				elseif alko < 10:
					if $pantyworntype = 'none' and PCloSkirt > 2:
						*clr & cla
						inhib_exp += 3
						'<center><b><font color="maroon">Disco</font></b></center>'
						'<center><video autoplay loop src="images/locations/pavlovsk/community/disco/very_drunk_dance.mp4"></video></center>'
						if pcs_danc <= 30:
							grupvalue[1] -= 6
							grupvalue[2] -= 6
							grupvalue[4] += 2
							'You''re very drunk and forget that you don''t have any panties on. As you awkwardly attempt to dance, you''re too drunk to notice your skirt riding up, exposing your pussy to the observant people on the dance floor with you.'
						elseif pcs_danc <= 60:
							grupvalue[1] -= 5
							grupvalue[2] -= 5
							grupvalue[4] += 2
							'You''re very drunk and forget that you don''t have any panties on. As you drunkenly dance around, your skirt rides up, exposing your pussy to the observant people on the dance floor with you.'
						elseif pcs_dancero <= 40:
							grupvalue[1] -= 4
							grupvalue[2] -= 4
							grupvalue[4] += 2
							'You''re very drunk and forget that you don''t have any panties on. You dance pretty well for how drunk you are, but are too drunk to notice your skirt riding up, exposing your pussy to the observant people on the dance floor with you.'
						else
							grupvalue[1] -= 3
							grupvalue[2] -= 3
							grupvalue[4] += 2
							'You''re very drunk and forget that you don''t have any panties on. Most people would have a hard time knowing you were very drunk as you expertly move your body around in a seductive manner, but you are too drunk to notice your skirt riding up, exposing your pussy to the observant people on the dance floor with you.'
						end
						if StoryLine = 1 and meynoldQW >= 2 and rand(1,5) = 1: 
							gt 'pav_disco', 'katja_too_drunk'
						elseif npc_rel['A25'] >= 50 and rand(1,7) = 1:
							gt 'pav_disco', 'sonia_too_drunk' 
						elseif npc_rel['A144'] >= 50 and rand(1,7) = 1: 
							gt 'pav_disco', 'anushka_too_drunk'
						end
					else
						*clr & cla
						'<center><b><font color="maroon">Disco</font></b></center>'
						'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/very_drunk_dance.jpg"></center>'
						'You''re very drunk, but are having a lot of fun out on the dance floor anyway. You''re not paying attention to anyone else or even the music.'
						if pcs_danc <= 30:
							grupvalue[1] -= 4
							grupvalue[2] -= 4
							'You''re very drunk, but are having a lot of fun out on the dance floor anyway. You''re a terrible dancer, and being drunk doesn''t help. Your awkward movements look more like a seizure than dancing, but you don''t care. You''re not paying attention to anyone else or even the music.'
						elseif pcs_danc <= 60:
							grupvalue[1] -= 3
							grupvalue[2] -= 3
							'You''re very drunk, but are having a lot of fun out on the dance floor anyway. As you dance around, you barely pay attention to anyone else.'
						elseif pcs_dancero <= 40:
							grupvalue[1] -= 2
							grupvalue[2] -= 2
							'You''re very drunk, but are having a lot of fun out on the dance floor anyway. You dance pretty well for how drunk you are, and move your body around in an erotic manner to the beat of the music.'
						else
							grupvalue[1] -= 1
							grupvalue[2] -= 1
							'You''re very drunk, but are having a lot of fun out on the dance floor anyway. Most people would have a hard time knowing you were drunk as you expertly move your body around in a seductive manner to the beat of the music.'
						end
						if StoryLine = 1 and meynoldQW >= 2 and rand(1,5) = 1: 
							gt 'pav_disco', 'katja_too_drunk'
						elseif npc_rel['A25'] >= 50 and rand(1,7) = 1:
							gt 'pav_disco', 'sonia_too_drunk' 
						elseif npc_rel['A144'] >= 50 and rand(1,7) = 1: 
							gt 'pav_disco', 'anushka_too_drunk'
						end
					end
				else
					grupvalue[1] -= 5
					grupvalue[2] -= 5
					grupvalue[4] -= 1
					'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/wasted_dance.jpg"></center>'
					'You''re far too drunk and are barely able to stay on your feet. You''re mostly just drunkenly bumping into other people as you try and dance.'
					if StoryLine = 1 and meynoldQW >= 2 and rand(1,3) = 1: 
						gt 'pav_disco', 'katja_too_drunk'
					elseif npc_rel['A25'] >= 50 and rand(1,5) = 1:
						gt 'pav_disco', 'sonia_too_drunk' 
					elseif npc_rel['A144'] >= 50 and rand(1,5) = 1: 
						gt 'pav_disco', 'anushka_too_drunk'
					end
				end
				if alko < 6:
					verprigrand = rand(0, 100)
					if verprigrand <= pcs_danc:
						gs 'pav_disco', 'dance_partner'
						gs 'stat'
						'<<$din_disc_dance2>>'
						act 'Move away': gt 'pav_disco'
						act 'Dance with the guy': gt 'pav_disco', 'dance_vrp'
						exit
					end
				end
				gs 'stat'
				act 'Continue': gt 'pav_disco'
			end
		end
		act 'Stand at the wall':
			*clr & cla
			menu_off = 1
			minut += 5
			!!fat -= 1
			pcs_mood -= 5
			frost = 0
			gs 'stat'
			'<center><b><font color="maroon">Disco</font></b></center>'
			if (cumloc[6] = 1 or cumloc[7] = 1) or cumloc[11] = 1:
				pav_discocum = daystart
				gs 'fame', 'pav', 'sex', 5
				pcs_mood -= 40
				gs 'stat'
				'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/sex/cumface1.jpg"></center>'
				'While standing by the wall, a guy notices the cum on your clothes and points and shouts. "Look, this chick is covered in cum! Did you forget to swallow slut?" he says mockingly while laughing. Your cheeks blush with shame and you head for the exit.'
				act 'Leave': gt 'pav_commcenter'
				exit
			end
			'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/wallflower.jpg"></center>'
			if alko > 0:
				if alko = 1:
					'You''re buzzed and stand against the wall, watching the others dance.'
				elseif alko < 4:
					'You''re tipsy and stand against the wall, watching the others dance.'
				elseif alko < 6:
					if StoryLine = 1 and meynoldQW >= 2 and rand(1,10) = 1: 
						gt 'pav_disco', 'katja_too_drunk'
					elseif npc_rel['A25'] >= 50 and rand(1,10) = 1:
						gt 'pav_disco', 'sonia_too_drunk' 
					elseif npc_rel['A144'] >= 50 and rand(1,10) = 1: 
						gt 'pav_disco', 'anushka_too_drunk'
					else
						'You''re pretty drunk and stand against the wall, for support, as you watch the others dance.'
					end	
				else
					if StoryLine = 1 and meynoldQW >= 2 and rand(1,5) = 1: 
						gt 'pav_disco', 'katja_too_drunk'
					elseif npc_rel['A25'] >= 50 and rand(1,7) = 1:
						gt 'pav_disco', 'sonia_too_drunk' 
					elseif npc_rel['A144'] >= 50 and rand(1,7) = 1: 
						gt 'pav_disco', 'anushka_too_drunk'
					else
						'You''re too drunk to dance and you lean against the wall for support to stop yourself from falling.'
					end
				end
			else
				'You are standing next to the wall while watching the others dance.'
			end
			if alko < 6:
				verodance = 0
				if pcs_hairbsh = 1:verodance += 1
				if PCloSkirt > 2 or PCloPants > 4:verodance += 1
				if $clothingworntype = 'fashionista':verodance += 2
				if pcs_makeup = 2:verodance += 1
				if pcs_makeup = 3:verodance += 2
				if pcs_makeup = 4:verodance += 3
				verodance += alko
				verodance += 5
				verprigrand = rand(0, 20)
				if verprigrand <= verodance:
					gs 'pav_disco', 'dance_partner'
					gs 'stat'
					'<<$din_disc_dance>>'
					act 'Refuse': gt 'pav_disco'
					act 'Dance': gt 'pav_disco', 'dance_vrp'
					exit
				end
			end
			gs 'stat'
			act 'Continue': gt 'pav_disco'
		end
		if StoryLine = 1 and SchoolAtestat = 0: act 'Look for your classmates': gt 'pav_disco_coolkids', 'classmates'
	elseif hour < 20:
		'<center><b><font color="maroon">Disco</font></b></center>'
		'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/closing.jpg"></center>'
		'The club is closing for the night. The main lights go on, the music fades and everyone begins to leave.'
		act 'Go outside': gt 'pav_commcenter'
	end
end

if $ARGS[0] = 'kotov_love':
	*clr & cla
	menu_off = 1
	gs 'stat'
	'<center><b><font color="maroon">Disco</font></b></center>'
	'<center><img <<$set_imgh>> src="images/characters/shared/headshots_main/big9.jpg"></center>'
	'Vitek walks up to you and the guy. "What''s this? Who''s this guy?" Vitek shoves the guy and angrily says "Well? Who the fuck are you? This is my girl, you want me to bust you up?"'
	if DPgrup = 1:
		fightboyrand = rand(0, 10)

		if fightboyrand <= 5:
			'The frightened man begins to speak. "Come on, I didn''t know. I''m leaving."' 
			'Vitek pushes the guy. "Get out of here and don''t come back."'
		elseif fightboyrand > 5 and fightboyrand < 10:
			'The guy shoves Vitek back. "Get your hands off me asshole!" Vitek suddenly kicks the guy with a fast and powerful blow.'
			'The guy falls to the floor in pain and Vitek steps over him. Grabbing him by his shirt, he yanks him off the floor and slams him into the wall.'
			'"Well motherfucker? You think you can take what''s mine? How about I take what''s yours?" The frightened guy curls up in pain. "You can have anything, anything I''ve got!"'
		elseif fightboyrand >= 10:
			'The guy punches Vitek in the face. Vitek recoils from the hit and lands a powerful kick of his own. They then start fighting, fists and kicks landing from both sides. Finally, a very powerful hit by Vitek sends the guy flying into the wall, where he slumps to the floor. Vitek runs to him and starts punching him in the face. The guy stops resisting, apparently having lost consciousness.'
		end
	elseif DPgrup = 2:
		'The guy has a smug look on his face as he calls over his friends, who all come over to crowd around Vitek. "Real tough guy huh?" Vitek''s friends come over to back him up. After a bit of tough talk and shoving, the two groups break apart peacefully, going their own ways.'
	elseif DPgrup = 3:
		'The guy throws up his hands. "Sorry man, I didn''t know she was with you."' 
		'Vitek pushes the guy. "Go back to the city and stay there."'
	end
	act 'Go to Vitek':numnpc = 9 & gt 'Snpc'
	exit
end

if $ARGS[0] = 'reakt_dance':
	*clr & cla
	menu_off = 1
	'<center><b><font color="maroon">Disco</font></b></center>'
	'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance1.jpg"></center>'
	if alko >= 3:
		'You feel yourself getting aroused by the guy''s actions.'
		gs 'arousal', 'foreplay', 5
		gs 'arousal', 'end'
		gs 'stat'
	else
		if pcs_horny > 0:pcs_horny -= 5
		pcs_mood -= 5
		'You feel disgusted by the guy''s actions.'
	end
	gs 'stat'
end

if $ARGS[0] = 'reverse_reakt_dance':
	*clr & cla
	menu_off = 1
	'<center><b><font color="maroon">Disco</font></b></center>'
	'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance1.jpg"></center>'
	if alko < 3:
		pcs_mood += 20
		'You enjoy dancing with him.'
		if pcs_inhib < 40: inhib_exp += rand(1,2)
		gs 'arousal', 'foreplay', 5
		gs 'arousal', 'end'
		gs 'stat'
	elseif alko > 3:
		if pcs_horny > 0:pcs_horny -= 5
		pcs_mood -= 5
		'You find the guy boring and uninteresting.'
	end
	gs 'stat'
end

if $ARGS[0] = 'dance_vrp':
	*clr & cla
	menu_off = 1
	minut += 5
	if pcs_danc < 50 and pcs_agil >= pcs_danc: danc_exp += 1
	if pcs_inhib < 40: inhib_exp += rand(1,2)
	gs 'stat'
	'<center><b><font color="maroon">Disco</font></b></center>'
	'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance1.jpg"></center>'
	'You accept the offer and the guy takes you by the hand and leads you out onto the dance floor, where you start dancing together.'
	if DPgrup = 1:
		if DPtipe = 1:
			'<center><b><font color="maroon">Disco</font></b></center>'
			'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance3.jpg"></center>'
			'The guy dances with you, holding your waist with his hands.'
			gs 'pav_disco', 'reverse_reakt_dance'
		elseif DPtipe = 2:
			*clr
			'<center><b><font color="maroon">Disco</font></b></center>'
			'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance2.jpg"></center>'
			'The drunk guy pushes into you, grinding his body up against yours. You feel your breasts literally flatten against the man''s chest.'
			gs 'arousal', 'foreplay', 5
			gs 'stat'
			gs 'pav_disco', 'reakt_dance'
		end
	elseif DPgrup = 2:
		if DPtipe = 1:
			'<center><b><font color="maroon">Disco</font></b></center>'
			'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance3.jpg"></center>'
			'The guy slides his hands down your side to your hips.'
			gs 'arousal', 'foreplay', 5
			gs 'stat'
			gs 'pav_disco', 'reakt_dance'
		elseif DPtipe = 2:
			*clr
			'<center><b><font color="maroon">Disco</font></b></center>'
			'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance4.jpg"></center>'
			'The guy grabs your ass and squeezes it before he pulls you into a hug and kisses you passionately.'
			gs 'arousal', 'foreplay', 5
			gs 'stat'
			gs 'pav_disco', 'reakt_dance'
		end
	elseif DPgrup = 3:
		if DPtipe = 1:
			'<center><b><font color="maroon">Disco</font></b></center>'
			'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance2.jpg"></center>'
			'A very confident and elegant man leads you in a dance, holding you by your waist with his strong hands.'
			gs 'arousal', 'foreplay', 5
			gs 'stat'
			gs 'pav_disco', 'reverse_reakt_dance'
		elseif DPtipe = 2:
			'<center><b><font color="maroon">Disco</font></b></center>'
			'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance4.jpg"></center>'
			'A tipsy man hugs you around your waist and his hands go down to grab your ass.'
			gs 'arousal', 'foreplay', 5
			gs 'stat'
			gs 'pav_disco', 'reakt_dance'
		end
	end
	act 'Stop and move away': gt 'pav_disco'
	act 'Continue to dance with him':
		*clr & cla
		gs 'stat'
		'<center><b><font color="maroon">Disco</font></b></center>'
		if $pantyworntype = 'none':
			'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance5.jpg"></center>'
		else
			'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/club_dance6.jpg"></center>'
		end
		if alko < 6 or pcs_horny <= 75:
			act 'Refuse':gt 'pav_disco'
		else
			gs 'willpower', 'drink', 'resist'
			if will_cost <= pcs_willpwr:
				act 'Refuse (<<will_cost>> Willpower)':
					gs 'willpower', 'drink', 'resist'
					gs 'willpower', 'pay', 'resist'
					if pcs_sprt <= 30: sprt_exp += rand(0,1)
					gs 'stat'
					gt 'pav_disco'
				end
			else
				act 'Refuse (<font color="red"><<will_cost>> Willpower</font>)': '<br><font color="red">You don''t have enough willpower to use this action.</font>'
			end
		end
		if DPgrup = 1:
			$npc_usedname[$npclastcalled] = $npc_nickname[$npclastcalled]
			$boydesc = $npc_nickname[$npclastcalled]
			if rand(1,2) = 1:
				if DPtipe = 1:
					'"My name is <<$boydesc>>. What''s yours?" the guy asks.' 
					'"<<$pcs_firstname>>, but people call me <<$pcs_nickname>>." you reply. Once the song ends, the guy asks you to sit with him and chat.'
				elseif DPtipe = 2:
					'"My name is <<$boydesc>>. What''s yours?" the guy asks.' 
					'"<<$pcs_firstname>>, but people call me <<$pcs_nickname>>." you reply. The drunk guy humped you throughout the dance and now his face is flushed with excitement. He asks you to leave with him to get some fresh air and talk outside.'
				end

				act 'Go with the guy': gt 'pav_disco_sex', 'outside', 'nice'
			else
				if DPtipe = 1:
					'"My name is <<$boydesc>>. What''s yours?" the guy asks.' 
					'"<<$pcs_firstname>>, but people call me <<$pcs_nickname>>." you reply. Once the song ends, the guy asks if you want to go outside with him.'
				elseif DPtipe = 2:
					'"My name is <<$boydesc>>. What''s yours?" the guy asks.' 
					'"<<$pcs_firstname>>, but people call me <<$pcs_nickname>>." you reply. The drunk guy humped you throughout the dance and now his face is flushed with excitement. He asks you to leave with him and to get some fresh air and talk outside.'
				end
				act 'Go with the guy': gt'pav_disco','hookup_nice'
			end
		elseif DPgrup = 2:
			if rand(1,2) = 1:
				if DPtipe = 1:
					'The guy constantly grabs your ass, breasts and tries kissing you, clearly feeling rather excited. Every time you press up against him, you feel something hard in his pants. The song then finally ends and the guy offers to take you outside for a drink.'
					gs 'arousal', 'foreplay', 5
					gs 'stat'
					act 'Go outside': gt 'pav_disco_sex', 'outside', 'aggressiv'
				elseif DPtipe = 2:
					'The guy constantly grabs your ass, breasts and tries kissing you, clearly feeling rather excited. Evry time you press up against him, you feel something hard in his pants. The song then finally ends and the guy offers to take you outside for a drink.'
					gs 'arousal', 'foreplay', 5
					gs 'stat'
					act 'Go outside': gt 'pav_disco_sex', 'outside', 'aggressiv'
				end
			else
				if DPtipe = 1:
					'The guy constantly grabs your ass, breasts and tries kissing you, clearly feeling rather excited. Every time you press up against him, you feel something hard in his pants. The song then finally ends and the guy asks if you want to go outside and get some fresh air.'
					gs 'arousal', 'foreplay', 5
					gs 'stat'
					act 'Go with him': gt'pav_disco','hookup_aggressive'
				elseif DPtipe = 2:
					'The guy constantly grabs your ass, breasts and tries kissing you, clearly feeling rather excited. Every time you press up against him, you feel something hard in his pants. The song then finally ends and the guy asks if you want to go outside and get some fresh air.'
					gs 'arousal', 'foreplay', 5
					gs 'stat'
					act 'Go with him': gt'pav_disco','hookup_aggressive'
				end
			end
		elseif DPgrup = 3:
			if DPtipe = 1:
				'The man dances with confidence and elegance. When the song ends, he offers to take you outside for some fresh air.'
				act 'Go with the man':
					*clr & cla
					gs 'stat'
					'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/outside_talk.jpg"></center>'
					$npc_usedname[$npclastcalled] = $npc_nickname[$npclastcalled]
					$boydesc = $npc_nickname[$npclastcalled]
					'You go outside with the man. As you walk, he put his arm around your waist. "My name is <<$boydesc>>. What''s yours?" he asks.' 
					'"<<$pcs_firstname>>, but people call me <<$pcs_nickname>>." you answer and the man continues. "That''s a nice name. I''m in town on a business trip and I''m staying at a nearby hotel. There''s virtually nothing to do in this town, so why don''t you come back to my hotel with me? We can drink some whiskey and chat."'
					if alko < 6 or pcs_horny <= 75 or fame['pav_slut'] <= 50:
						gs 'willpower', 'drink', 'resist'
						if will_cost <= pcs_willpwr:
							act 'Refuse (<<will_cost>> Willpower)':
								gs 'willpower', 'drink', 'resist'
								gs 'willpower', 'pay', 'resist'
								if pcs_sprt <= 30: sprt_exp += rand(0,1)
								gs 'stat'
								gt 'pav_disco'
							end
						else
							act 'Refuse (<font color="red"><<will_cost>> Willpower</font>)': '<br><font color="red">You don''t have enough willpower to use this action.</font>'
						end
					end
					act 'Go to the hotel': gt 'pav_disco_sex', 'hotel'
				end
			elseif DPtipe = 2:
				$npc_usedname[$npclastcalled] = $npc_nickname[$npclastcalled]
				$boydesc = $npc_nickname[$npclastcalled]
				'The drunk man molests you for the entire dance and when the dance finally ends, he whispers in your ear. "My name is <<$boydesc>>. What''s yours?"' 
				'"<<$pcs_firstname>>, but people call me <<$pcs_nickname>>." you answer, feeling somewhat disgusted.'
				'"<<$pcs_nickname>>, I''m not a local. I''m staying in a nearby hotel, so let''s take a taxi and go to my room." he drunkenly stutters.'
				gs 'arousal', 'foreplay', 5
				gs 'stat'
				act 'Go to the hotel': gt 'pav_disco_sex', 'hotel'
			end
		end
		if kotovLoveQW > 0: gt 'pav_disco', 'kotov_love'
	end
end

if $ARGS[0] = 'dance_partner':
	!!the creation of a partner to dance
	sozboyrand = rand(1,300)
	if sozboyrand > boynum:
		gs 'npcgeneratec', 0, 'Stranger', rand((age - 1),(age + 1)), 1
		gs 'boystat', $npclastgenerated
		DaPaTipeRand = rand(0,100)

		if DaPaTipeRand < 70:
			!!ordinary local boy
			bmtimeTipe = 0
			DrunkDPTrand = rand(0,100)

			if DrunkDPTrand < 70:
				DPtipe = 1
				DPgrup = 1
				$din_disc_dance = 'A guy dressed in jeans and a T-shirt asks you to dance.'
				$din_disc_dance2 = 'Dancing next to you is a guy dressed in jeans and a T-shirt.'
			elseif DrunkDPTrand >= 70:
				DPtipe = 2
				DPgrup = 1
				$din_disc_dance = 'A drunk guy dressed in jeans and a T-shirt asks you to dance.'
				$din_disc_dance2 = 'Dancing next to you is a drunk guy dressed in jeans and a T-shirt.'
			end
		elseif DaPaTipeRand >= 70 and DaPaTipeRand < 90:
			!!local gopar
			bmtimeTipe = 1
			DrunkDPTrand = rand(0,100)

			if DrunkDPTrand < 50:
				DPtipe = 1
				DPgrup = 2
				$din_disc_dance = 'A guy dressed in sweatpants and a sweatshirt asks you to dance.'
				$din_disc_dance2 = 'Dancing next to you is a guy dressed in sweatpants and sweatshirts.'
			elseif DrunkDPTrand >= 50:
				DPtipe = 2
				DPgrup = 2
				$din_disc_dance = 'A drunk guy dressed in sweatpants and a sweatshirt puts his arms around your waist and asks you to dance.'
				$din_disc_dance2 = 'Dancing next to you is a drunk guy dressed in sweatpants and sweatshirts.'
			end
		elseif DaPaTipeRand >= 90:
			!!traveling_expenses
			bmtimeTipe = 2
			DrunkDPTrand = rand(0,100)

			if DrunkDPTrand < 90:
				DPtipe = 1
				DPgrup = 3
				$din_disc_dance = 'A man in a nice suit and expensive shoes asks you to dance.'
				$din_disc_dance2 = 'Dancing next to you is a man in a nice suit and expensive shoes.'
			elseif DrunkDPTrand >= 90:
				DPtipe = 2
				DPgrup = 3
				$din_disc_dance = 'A drunk man in a nice suit and expensive shoes puts his arms around your waist and asks you to dance.'
				$din_disc_dance2 = 'Dancing next to you is a drunk man in a nice suit and expensive shoes.'
			end
		end
		gs 'boymass', 'A'
	elseif sozboyrand <= boynum:
		gt 'pav_disco', 'familiar'
	end
end

if $ARGS[0] = 'familiar':
	*clr & cla
	menu_off = 1
	gs 'stat'

	Tboynum = sozboyrand

	if bmTip[Tboynum] = 0:
		$niknameboy = 'Guy'
		rudeboy = 1
		'<center><b><font color="maroon">Disco</font></b></center>'
		'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/normal1.jpg"></center>'
		'A man dressed in jeans and a T-shirt invites you to dance. You don''t recognize him, but he seems familiar.'
	elseif bmTip[Tboynum] = 1:
		$niknameboy = 'Gopnik'
		rudeboy = 2
		'<center><b><font color="maroon">Disco</font></b></center>'
		'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/gopnik1.jpg"></center>'
		'A man dressed in sweatpants and sweatshirts invites you to dance. You don''t recognize him, but he seems familiar.'
	elseif bmTip[Tboynum] = 2:
		$niknameboy = 'Man'
		rudeboy = 0
		'<center><b><font color="maroon">Disco</font></b></center>'
		'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/suit1.jpg"></center>'
		'A man dressed in a nice suit and expensive shoes invites you to dance. You don''t recognize him, but he seems familiar.'
	end
	gs 'BMloc'
end

if $ARGS[0] = 'katja_too_drunk':
	*clr & cla
	menu_off = 1
	gs 'stat'
	'<center><b><font color="maroon">Disco</font></b></center>'
	'<center><img <<$set_imgh>> src="images/locations/pavlovsk/community/disco/school_kids/katja_help.jpg"></center>'
	'Katja approaches you. "<<$pcs_nickname>>, are you drunk!? Let''s get you home, I''ll help you."'
	act 'Go with Katja': gt 'pav_disco_coolkids', 'katja_walkhome'
end

if $ARGS[0] = 'sonia_too_drunk':
	*clr & cla
	menu_off = 1
	gs 'stat'
	'<center><b><font color="maroon">Disco</font></b></center>'
	'<center><img <<$set_imgh>> src="images/characters/shared/headshots_main/big25.jpg"></center>'
	'Sonia approaches you and smiles. "<<$pcs_nickname>>, you''re pretty drunk. Let''s get you home, I''ll walk with you."'
	act 'Go with Sonia': gt 'pav_disco_coolkids', 'sonia_walkhome'
end

if $ARGS[0] = 'anushka_too_drunk':
	*clr & cla
	menu_off = 1
	gs 'stat'
	'<center><b><font color="maroon">Disco</font></b></center>'
	'<center><img <<$set_imgh>> src="images/characters/shared/headshots_main/big144.jpg"></center>'
	'Anushka approaches and pokes you, which causes you to jerk away. This causes you to stumble and nearly fall, but Anushka catches you by the arm to help steady you. "Someone''s partied pretty hard tonight, haven''t they? Maybe a little too hard. Let''s get you home before someone tries to take advantage of you."'
	act 'Go with Anushka': gt 'pav_disco_gopniks', 'anushka_walkhome'
end

if $ARGS[0] = 'hookup_aggressive':
	cla & *clr
	gs 'fame', 'pav', 'sex', 1
	'<center><img src="images/locations/pavlovsk/community/disco/outside_talk.jpg"></center>'
	'"Hey, let''s go back to my place and fuck!"'
	act 'No thanks':
		cla & *clr
		'<center><img src="images/locations/pavlovsk/community/disco/outside_talk.jpg"></center>'
		'"No thanks, I''m not interested in having a one night stand." you reply.'
		'"Huh?!" <<$boydesc>> looks at you with anger on his face. "After the way you were dancing with me, you''re not gonna give it up?"'
		'He makes a show of your rejection, hissing at you and spitting on the ground, narrowly missing your shoes before storming off. You roll your eyes and wait until he''s gone before leaving yourself.'
		gs 'arousal', 'end'
		act 'Leave':gt $loc, $metka
		act 'Return to the dance':gt 'pav_disco'
	end
	
	act 'Fuck off':
		cla & *clr
		'<center><img src="images/pc/reactions/fuckoff3.jpg"></center>'
		'"You have no chance with me, so why don''t you just fuck off?" you say with a sting.'
		'"Huh?!" <<$boydesc>> looks at you with anger on his face. "After the way you were dancing with me, you''re not gonna give it up?"'
		'He makes a show of your rejection, hissing at you and spitting on the ground, narrowly missing your shoes before storming off. You roll your eyes and wait until he''s gone before leaving yourself.'
		gs 'arousal', 'end'
		act 'Leave':gt $loc, $metka
		act 'Return to the dance':gt 'pav_disco'
	end
	
	act 'That sounds nice':
		cla & *clr
		'<center><img src="images/locations/pavlovsk/community/disco/outside_kiss.jpg"></center>'
		'"That sounds nice," you say with a smile.'
		'He leans in and gives you a quick, yet passionate kiss. "Great!" He grabs you by the arm and starts pulling you towards a nearby apartment complex, whispering obscenities in your ear along the way.'
		gs 'npcpreservec', $npclastgenerated
		gs 'arousal', 'kiss', 5
		gs 'arousal', 'end'
		gs 'stat'
		act 'Go to his place':gt 'hookup', 'start'
	end
	
	act 'That sounds great':
		cla & *clr
		'<center><img src="images/locations/pavlovsk/community/disco/outside_kiss.jpg"></center>'
		'"Fuck yeah, that sounds awesome." you say back to him.'
		'He leans in and gives you a quick, yet passionate kiss. "I knew I liked you." He grabs you by the arm and starts pulling you towards a nearby apartment complex.'
		gs 'npcpreservec', $npclastgenerated
		gs 'arousal', 'kiss', 5
		gs 'arousal', 'end'
		gs 'stat'
		act 'Go to his place':gt 'hookup', 'start'
	end
end

if $ARGS[0] = 'hookup_nice':
	cla & *clr
	'<center><img src="images/locations/pavlovsk/community/disco/outside_talk.jpg"></center>'
	'"Hey," <<$npc_firstname[$boy]>> says. "I had a really good time dancing with you tonight and I was wondering... would you maybe want to come back to my place? I could get you a drink and maybe..."'
	act 'Sorry':
		cla & *clr
		'<center><img src="images/locations/pavlovsk/community/disco/outside_talk.jpg"></center>'
		'"Oh, uhh, I uhh... I don''t know if I''m really up for that. Sorry..."'
		'"Oh, sure. That''s okay. You don''t have to be sorry." <<$npc_firstname[$boy]>> says with a hint of disappointment. "Well at least I gave it my best shot. Who knows, maybe I''ll see you here again."'
		act 'Leave':gt $loc, $metka
		act 'Return to the dance':gt 'pav_disco'
	end
	
	act 'No thanks':
		cla & *clr
		'<center><img src="images/locations/pavlovsk/community/disco/outside_talk.jpg"></center>'
		'"No thanks, I''m not interested." you reply'
		'"Oh, sure. That''s okay. Uhh, sorry I asked." he says with a slight hint of disappointment.'
		'You shrug and walk away.'
		act 'Leave':gt $loc, $metka
		act 'Return to the dance':gt 'pav_disco'
	end
	
	act 'Want to fuck?':
		cla & *clr
		gs 'fame', 'pav', 'sex', 1
		'<center><img src="images/locations/pavlovsk/community/disco/outside_kiss.jpg"></center>'
		'"... fuck?" you ask.'
		'He looks dumb founded by your words. "Uhh..."'
		'"Fuck," you repeat. "Wanna go back to your place and fuck? We can skip the drinks too."'
		'<<$npc_firstname[$boy]>> seems stunned by your straightforwardness, but eventually answers, "Yes!"'
		'You lean in to kiss him passionately, and he returns the kiss just as enthusiastically.'
		'"Great! Lead the way!" you say with a smile after breaking the kiss. The two of you hurry through the streets together to a nearby apartment complex.'
		gs 'npcpreservec', $npclastgenerated
		gs 'arousal', 'kiss', 5
		gs 'arousal', 'end'
		gs 'stat'
		act 'Go to his place':gt 'hookup', 'start'
	end
end

--- pav_disco ---------------------------------
